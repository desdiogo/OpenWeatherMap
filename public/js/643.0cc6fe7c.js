"use strict";(self["webpackChunkwheather"]=self["webpackChunkwheather"]||[]).push([[643],{6643:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});a(246);var s=a(3673),l=a(2323),n=a(8880);const i={class:"col q-pt-lg q-px-md"},o=(0,s.Uk)(" Field hint "),c={key:0,class:"col text-white text-center"},r={class:"text-h4 text-weight-light"},h={class:"text-h6 text-weight-light"},d=["src"],u={class:"row justify-center wrap-xs no-wrap-md"},w={class:"col-xs-12 col-md-2 q-mb-lg"},p=(0,s._)("div",{class:"text-h6"},"Máximo",-1),g={class:"text-h4 text-weight-thin relative-position"},m=(0,s._)("span",{class:"text-h6 text-weight-thin relative-position degree-temp"},"°C",-1),x={class:"col-xs-12 col-md-2 q-mb-lg"},_={class:"text-h1 text-weight-thin relative-position"},v=(0,s._)("span",{class:"text-h4 relative-position degree"},"°C",-1),f={class:"text-h6 text-weight-light"},y={class:"col-xs-12 col-md-2 q-mb-lg"},D=(0,s._)("div",{class:"text-h6"},"Mínimo",-1),k={class:"text-h4 text-weight-thin relative-position"},C=(0,s._)("span",{class:"text-h6 text-weight-thin relative-position degree-temp"},"°C",-1),b={class:"text-h6 text-weight-light q-mt-lg"},q={class:"row justify-center"},z=(0,s._)("div",{class:"col-xs-5 col-sm-3 col-lg-1 text-center"},[(0,s._)("span",null,"Umidade")],-1),W={class:"col-xs-2 col-md-1 text-center"},$={class:"justify-lg-end"},F={class:"row justify-center wrap"},j=(0,s._)("div",{class:"col-xs-5 col-sm-3 col-lg-1 text-center"},[(0,s._)("span",null,"Nascer do Sol")],-1),Z={class:"col-xs-2 col-md-1 text-center"},P={class:"row justify-center"},T=(0,s._)("div",{class:"col-xs-5 col-sm-3 col-lg-1 text-center"},[(0,s._)("span",null,"Pôr do Sol")],-1),U={class:"col-xs-2 col-md-1 text-center"},B={key:1,class:"col column text-center text-white"},K=(0,s._)("div",{class:"col text-h2 text weight-thin"},[(0,s.Uk)(" Quasar"),(0,s._)("br"),(0,s.Uk)("Weather ")],-1),Q=(0,s._)("div",null,"Procure minha localização",-1),S=(0,s._)("div",{class:"col skyline"},null,-1);function I(e,t,a,I,L,M){const V=(0,s.up)("q-icon"),A=(0,s.up)("q-btn"),H=(0,s.up)("q-input"),N=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(N,{class:(0,l.C_)(["flex column",e.bgClass])},{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s.Wm)(H,{modelValue:e.state.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.search=t),onKeyup:(0,n.D2)(e.getWeatherBySearch,["enter"]),placeholder:"Pesquisar",dark:"",borderless:""},{before:(0,s.w5)((()=>[(0,s.Wm)(V,{onClick:e.getLocation,name:"my_location"},null,8,["onClick"])])),hint:(0,s.w5)((()=>[o])),append:(0,s.w5)((()=>[(0,s.Wm)(A,{onClick:e.getWeatherBySearch,round:"",dense:"",flat:"",icon:"search"},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),e.state.weatherData?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",r,(0,l.zw)(e.state.weatherData.name),1),(0,s._)("div",h,(0,l.zw)(e.getDate()),1),(0,s._)("div",null,[(0,s._)("img",{src:`https://openweathermap.org/img/wn/${e.state.weatherData.weather[0].icon}@4x.png`,alt:"Temp"},null,8,d)]),(0,s._)("div",u,[(0,s._)("div",w,[p,(0,s._)("div",g,[(0,s._)("span",null,(0,l.zw)(e.kevinToCelsius(e.state.weatherData.main.temp_max)),1),m])]),(0,s._)("div",x,[(0,s._)("div",_,[(0,s._)("span",null,(0,l.zw)(e.kevinToCelsius(e.state.weatherData.main.temp)),1),v]),(0,s._)("div",f,(0,l.zw)(e.ucFirst(e.state.weatherData.weather[0].description)),1)]),(0,s._)("div",y,[D,(0,s._)("div",k,[(0,s._)("span",null,(0,l.zw)(e.kevinToCelsius(e.state.weatherData.main.temp_min)),1),C])])]),(0,s._)("div",b,[(0,s._)("div",q,[z,(0,s._)("div",W,[(0,s._)("span",$,(0,l.zw)(e.state.weatherData.main.humidity)+"%",1)])]),(0,s._)("div",F,[j,(0,s._)("div",Z,[(0,s._)("span",null,(0,l.zw)(e.sunrise),1)])]),(0,s._)("div",P,[T,(0,s._)("div",U,[(0,s._)("span",null,(0,l.zw)(e.sunset),1)])])])])):((0,s.wg)(),(0,s.iD)("div",B,[K,(0,s.Wm)(A,{onClick:e.getLocation,class:"col",flat:"","no-caps":""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{left:"",size:"3em",name:"my_location"}),Q])),_:1},8,["onClick"])])),S])),_:1},8,["class"])}a(9544);var L=a(1959),M=a(5474),V=a(6417);function A(e,t){V.Z.create({textColor:"white",message:e,position:"top",type:t,actions:[{icon:"close",color:"white",attrs:{"aria-label":"Dismiss"}}],timeout:5e3})}var H=a(8825);const N=(0,s.aZ)({name:"PageIndex",setup(){const e=(0,H.Z)(),t=(0,L.qj)({search:"",weatherData:!1,lat:0,lon:0,apiKey:"9e0db409583831e2bfe20e7d544c63bf"}),a=(0,L.Fl)((()=>{if(t.weatherData)return t.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"})),s=432e5,l=(0,L.Fl)((()=>d(t.weatherData.sys.sunrise-s))),n=(0,L.Fl)((()=>d(t.weatherData.sys.sunset)));function i(){(0,M.api)(`weather?lat=${t.lat}&lon=${t.lon}&lang=pt_br&appid=${t.apiKey}`).then((e=>{console.log(e),t.weatherData=e.data})).finally((()=>{e.loading.hide()}))}function o(){e.loading.show(),navigator.geolocation.getCurrentPosition((e=>{t.lat=e.coords.latitude,t.lon=e.coords.longitude,i()}))}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){return(e-273.15).toFixed(0)}function h(){e.loading.show(),(0,M.api)(`weather?q=${t.search}&lang=pt_br&appid=${t.apiKey}`).then((e=>{t.weatherData=e.data})).catch((()=>{A("A cidade não foi localizada","negative")})).finally((()=>{t.search="",e.loading.hide()}))}function d(e){let t=new Date(e).getHours();t<10&&(t=`0${t}`);let a=new Date(e).getMinutes();return a<10&&(a=`0${a}`),`${t}:${a}`}function u(){const e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat("pt-BR",e).format(new Date)}return{state:t,bgClass:a,sunrise:l,sunset:n,getLocation:o,ucFirst:c,kevinToCelsius:r,getWeatherBySearch:h,getDate:u}}});var R=a(4379),E=a(1592),G=a(4554),J=a(7435),O=a(7518),X=a.n(O);N.render=I;const Y=N;X()(N,"components",{QPage:R.Z,QInput:E.Z,QIcon:G.Z,QBtn:J.Z})}}]);